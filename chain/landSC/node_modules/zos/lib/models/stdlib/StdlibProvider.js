'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _zosLib = require('zos-lib');

var _Stdlib = require('./Stdlib');

var _Stdlib2 = _interopRequireDefault(_Stdlib);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const StdlibProvider = {
  from(name, version, network) {
    const filename = `node_modules/${name}/zos.${network}.json`;
    if (!_zosLib.FileSystem.exists(filename)) throw Error(`Could not find a zos file for network '${network}' for the requested stdlib ${name}@${version}. Please make sure it is provided or at least self-deployed if you are in development mode.`);
    const networkInfo = _zosLib.FileSystem.parseJson(filename);
    _Stdlib2.default.validateSatisfiesVersion(networkInfo.version, version);
    return {
      address: networkInfo.provider.address,
      version: networkInfo.version
    };
  }
};

exports.default = StdlibProvider;